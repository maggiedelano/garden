<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">

  <link rel="canonical" href="https://www.maggiedelano.com/unsolicited-career-advice" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="Goals and Scope of This PostThis post is for students entering or currently enrolled in liberal arts programs at four-year degree granting colleges in the US...">

  <meta property="og:site_name" content="Maggie Delano's Digital Garden">

  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo=">

  <link rel="stylesheet" href="/garden/styles.css">

  
  <meta property="og:description" content="Goals and Scope of This PostThis post is for students entering or currently enrolled in liberal arts programs at four-year degree granting colleges in the US..."/>
  

  
  <meta property="og:title" content="Unsolicited Career Advice">
  <meta property="og:type" content="article">
  

  
  <meta property="article:published_time" content="2022-02-22T23:19:54-05:00">
  <meta property="article:author" content="https://www.maggiedelano.com/">
  

  <meta property="og:url" content="https://www.maggiedelano.com/unsolicited-career-advice" />

  

  <title>
    
      Unsolicited Career Advice &mdash; Maggie Delano's Digital Garden
    
  </title>

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Unsolicited Career Advice | Maggie Delano’s Digital Garden</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Unsolicited Career Advice" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Goals and Scope of This Post This post is for students entering or currently enrolled in liberal arts programs at four-year degree granting colleges in the US (though hopefully it’s helpful for others as well!). The goal of this post is to discuss how to best spend your four years in order to be able to build a successful career afterward. This post focuses specifically on how to build a successful career, but of course there are other important reasons to get a liberal arts education and attend college, such as becoming a better human being and citizen, learning how to be independent, having fun and being in community." />
<meta property="og:description" content="Goals and Scope of This Post This post is for students entering or currently enrolled in liberal arts programs at four-year degree granting colleges in the US (though hopefully it’s helpful for others as well!). The goal of this post is to discuss how to best spend your four years in order to be able to build a successful career afterward. This post focuses specifically on how to build a successful career, but of course there are other important reasons to get a liberal arts education and attend college, such as becoming a better human being and citizen, learning how to be independent, having fun and being in community." />
<link rel="canonical" href="https://www.maggiedelano.com/garden/unsolicited-career-advice" />
<meta property="og:url" content="https://www.maggiedelano.com/garden/unsolicited-career-advice" />
<meta property="og:site_name" content="Maggie Delano’s Digital Garden" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-22T23:19:54-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Unsolicited Career Advice" />
<meta name="twitter:site" content="@maggied" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.maggiedelano.com/garden/unsolicited-career-advice"},"url":"https://www.maggiedelano.com/garden/unsolicited-career-advice","headline":"Unsolicited Career Advice","dateModified":"2021-12-18T09:55:23-05:00","datePublished":"2022-02-22T23:19:54-05:00","description":"Goals and Scope of This Post This post is for students entering or currently enrolled in liberal arts programs at four-year degree granting colleges in the US (though hopefully it’s helpful for others as well!). The goal of this post is to discuss how to best spend your four years in order to be able to build a successful career afterward. This post focuses specifically on how to build a successful career, but of course there are other important reasons to get a liberal arts education and attend college, such as becoming a better human being and citizen, learning how to be independent, having fun and being in community.","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

  <body>
    <nav><div>
    <a class="internal-link" href="/garden/"><b>Maggie Delano's Digital Garden</b></a>
</div>
</nav>
    <div class="wrapper">
      <main><article>
  <div>
    <h1>Unsolicited Career Advice</h1>
    <time datetime="2021-12-18T09:55:23-05:00">
      Last updated on December 18, 2021
      
    </time>
  </div>

  <div id="table-of-contents">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#goals-and-scope-of-this-post">Goals and Scope of This Post</a></li>
<li class="toc-entry toc-h2"><a href="#early-career-archetypes">Early Career Archetypes</a>
<ul>
<li class="toc-entry toc-h3"><a href="#learning-environments">Learning Environments</a></li>
<li class="toc-entry toc-h3"><a href="#career-markets">Career Markets</a></li>
<li class="toc-entry toc-h3"><a href="#early-vs-late-specialization">Early vs. Late Specialization</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#sampling-and-the-liberal-arts">Sampling and the Liberal Arts</a>
<ul>
<li class="toc-entry toc-h3"><a href="#making-the-most-of-sampling">Making The Most Of Sampling</a></li>
<li class="toc-entry toc-h3"><a href="#the-costs-of-early-specialization">The Costs of Early Specialization</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#focusing-on-deliberate-practice">Focusing on Deliberate Practice</a>
<ul>
<li class="toc-entry toc-h3"><a href="#what-to-do-if-you-dont-know-what-to-do">What To Do If You Don’t Know What To Do</a></li>
<li class="toc-entry toc-h3"><a href="#applying-for-your-first-opportunity-post-undergrad">Applying For Your First Opportunity Post Undergrad</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#conclusion">Conclusion</a></li>
<li class="toc-entry toc-h2"><a href="#further-reading">Further Reading</a></li>
<li class="toc-entry toc-h2"><a href="#footnotes">Footnotes</a></li>
</ul>
  </div>

  <div id="notes-entry-container">
    <content>
      <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h2 id="goals-and-scope-of-this-post">Goals and Scope of This Post</h2>
<p>This post is for students entering or currently enrolled in liberal arts programs at four-year degree granting colleges in the US (though hopefully it’s helpful for others as well!). The goal of this post is to discuss how to best spend your four years in order to be able to build a successful career afterward. This post focuses specifically on how to build a successful career, but of course there are other important reasons to get a liberal arts education and attend college, such as becoming a better human being and citizen, learning how to be independent, having fun and being in community.</p>

<p>The definition of a successful career is deeply personal, and depends on your personal values, desire for impact, desired life style, and more. But as Cal Newport argues in <em>So Good They Can’t Ignore You</em>, having control over your career is the “dream-job elixir,” so this post will focus on how to build skills that you can leverage to gain control in your future career.</p>

<h2 id="early-career-archetypes">Early Career Archetypes</h2>
<p>If building skills gives one leverage to gain control in their career, college is an important place for many people to start building those skills. There are a few different paths to skill building that depend on what sort of discipline(s) you decide you want to build your career in. Let’s assume there are three main archetypes that people are likely to fall into early in their careers: early specialist, late specialist, and generalist:</p>

<p><img src="/garden/assets/types%20of%20careers.png"></p>

<p>Which path makes sense for you depends on the kind of learning environment of your pursuit (kind vs. wicked), the type of market your pursuit is in (winner take all vs. auction), and when you choose to specialize (“early” vs. “late”).<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> Let’s define these terms quickly before diving in further.</p>

<h3 id="learning-environments">Learning Environments</h3>
<p>Kind and wicked learning environments are distinguished based on the feedback they provide and the “rules of the game.” Kind learning environments are characterized by frequent and helpful feedback and consistent rules (chess, classical music). Meanwhile, wicked learning environments have infrequent or inconsistent feedback and changing rules: you don’t consistently know whether you made the “right” decision or not (if there is even a “right” one at all), and the rules of the game are always evolving (research, jazz). In a kind learning environment, you learn the most from practicing within that environment. Meanwhile in a wicked learning environment, you learn the most from experimentation and working across disciplines.</p>

<h3 id="career-markets">Career Markets</h3>
<p>Career markets are about how skills are leveraged for control, and line up well with kind vs. wicked learning environments. A winner take all market involves mastery of a specific skill or set of skills that everyone is working to execute. To get an edge, it’s best to focus specifically on that set of skills. Meanwhile, in an auction market, the way you differentiate yourself is through your unique set of skills, and people aren’t trying to be exactly the same, so you benefit from focusing on your unique strengths.</p>

<h3 id="early-vs-late-specialization">Early vs. Late Specialization</h3>
<p>Finally there is early vs. late specialization. This is about <em>when</em> you specialize and whether you spend time “sampling” different disciplines or not. Most people who specialize early are people who know from a young age that they have talent in and want to pursue a specific field, such as elite athletes, chess players, and classical musicians. If you’re attending a liberal arts college, you probably are not an early specialist; an early specialist would benefit most from specific study in their discipline even from a young age.</p>

<h2 id="sampling-and-the-liberal-arts">Sampling and the Liberal Arts</h2>
<p>So, if you know you are likely to be a late specialist or a generalist if you are attending a liberal arts school, how do you figure out which one you are and go from there? The answer in both cases is what’s called “sampling,” and it’s a key feature of a liberal arts education, which focuses on breadth and broad training over highly specialized training. Even though most liberal arts schools require you to choose a major(s), your typical liberal arts engineering major, for example, will be less specialized than an engineering major graduating from a technical school. The key to a successful liberal arts education is leveraging this breadth rather than having it hold you back.</p>

<h3 id="making-the-most-of-sampling">Making The Most Of Sampling</h3>
<p>The breadth of a liberal arts education is most impactful if that breadth is used to 1) figure out what you might want to study further and 2) build skills that can be applied across disciplines. A liberal arts education allows you to explore rather than being locked in to a specific discipline by your twenties, and allows you to develop skills that will be helpful no matter what you go on to study next. When you sample a discipline, be intentional about learning what the key questions and methods of that discipline are, what it might be like to work in that discipline, and what skills you can build to get further in that discipline and/or apply to other disciplines. Sampling is beneficial regardless of whether you go on to pursue a specific discipline thereafter, or choose to pursue a more interdisciplinary career.</p>

<p>As you begin to home in on what you might be interested in (which may or may not be before you even graduate!), you can begin to consider if you’re interested in disciplines with profiles suited to late specialization or a generalist approach. A late specialist should focus on identifying and building important skills in a discipline as soon as they’re sure that is what they want to pursue. Meanwhile, a generalist should focus on adaptability and a broad range of skills; for these kinds of disciplines it’s beneficial to continue to study broadly, and leverage skills you’ve learned from different domains while sampling.</p>

<h3 id="the-costs-of-early-specialization">The Costs of Early Specialization</h3>
<p>Although most people who attend a liberal arts school are not what I referred to as “early specialists,” there is still a lot of pressure to specialize in fields that have a higher earning potential out of the bat, like STEM fields or finance. This is especially an issue in today’s economy where people go into debt to attend school, or who need or want to make more money to take care of themselves and their families. Additionally, if you don’t know what you want to do, you might be tempted to apply to graduate school to put off making your decision. Getting a high paying job out of the bat or pursuing an advanced degree seem like clear investments, and will probably pay off in the short term. But it’s important to consider the potential risk of early specialization along with its benefits. If you specialize too early and something about your situation changes, those skills developed for your first discipline may not be worth as much as they were originally. This could be due to external factors, like changes in the market, but it could also be due to your own internal preferences, like realizing a discipline isn’t working for you. Even if you want to specialize in undergraduate, at a liberal arts school you ultimately won’t be able to specialize all that much, so it is best to focus on foundational skills, even if you narrow down to focusing on a specific discipline/major. This gives you an opportunity to set yourself up for the future and experiment in a lower stakes environment than having to repeat this process after college.</p>

<h2 id="focusing-on-deliberate-practice">Focusing on Deliberate Practice</h2>
<p>Once there has been enough time for sampling and you feel that there are specific disciplines or types of disciplines that you’d like to consider further, it’s important to begin building skills in those areas by deliberate practice. Deliberate practice is a term that comes up a lot when talking about specific types of learning in kind environments, and involves tight learning cycles, feedback, and even coaches to improve. Here when I refer to deliberate practice I mean intentional skill building, even if feedback isn’t clear (such as in wicked learning environments).</p>

<p>In college, it typically makes sense to focus on building skills that you can use to get your first opportunity after college, regardless of whether that’s full time employment, further education or starting your own venture. This will require you to research the discipline(s) you are interested in and see what skills are valued by employers/schools/the marketplace. Then make a plan to build some of those skills to make yourself a worthwhile candidate. For example, let’s say you know you want to study biomedical engineering. Spend some time researching different paths people take: do they get advanced degrees? Go straight into industry? What skills do they have that you might need to build? Common ways to build skills include taking relevant courses, doing a directed reading, focusing on a topic in a final project or term paper, getting an internship or research position, taking relevant standardized testing, etc.</p>

<h3 id="what-to-do-if-you-dont-know-what-to-do">What To Do If You Don’t Know What To Do</h3>
<p>When you are early in your career, you are still figuring out what disciplines interest you and building up skills in and across disciplines. If you’re legitimately not sure what you want to do next, even if you’re about to graduate, that’s totally fine! In this case, continue focusing on exploring, and think about what value you have to offer others.</p>

<p>Sometimes it isn’t clear exactly what path to take after sampling. Is a late specialist model or a generalist model a better fit? One thing to consider is what kinds of environments you thrive in. Do you want to be great at a very specific thing, better than everyone else? You might want to consider specializing. Or do you want to express yourself creatively and find your own niche? You might want to consider a more generalist path.</p>

<h3 id="applying-for-your-first-opportunity-post-undergrad">Applying For Your First Opportunity Post Undergrad</h3>
<p>When applying for your first opportunities after college, it’s important to focus on skill building and what you might offer others, rather than worrying too much about what you might ultimately want to do. Many students who get liberal arts degrees are deeply interested in social justice or entrepreneurship, which is awesome! But, to have an impact in the world, you need the right skills, resources and knowledge to innovate. Focus first on building up valuable skills and expertise that you can use to identify and tackle problems that resonate with you. The right mission will come to you when it’s time, you’ll build traction, and you’ll know you’re on the right track.</p>

<p>When it’s time to apply for your first opportunity post college, it’s important to discuss the breadth of your experience as a strength, including how your path thus far has shaped your experience and what you bring to your future position. Apply for opportunities where you’ll be supported and have a chance to develop additional skills. Don’t worry if the first opportunity you have out of college isn’t everything you’ve dreamed of - by investing in fundamental skills now, you’ll unlock more opportunities in your future.</p>

<h2 id="conclusion">Conclusion</h2>
<p>A liberal arts education affords a breadth that is a real strength: helping you figure out what career paths to pursue and building rare and valuable skills that you can use to lead an ultimately fulfilling career. By focusing on exploring your interests and then deliberately practicing in your target discipline(s), you can gain control over your career and your life.</p>

<h2 id="further-reading">Further Reading</h2>
<p>This post only scratches the surface on thinking through how to create a successful career for yourself. Here’s some further reading that inspired me to write this post:</p>

<ul>
  <li>
<a href="https://www.calnewport.com/books/so-good/" target="_blank">So Good They Can’t Ignore You</a> by Cal Newport</li>
  <li>
<a href="https://davidepstein.com/the-range/" target="_blank">Range</a> by David Epstein</li>
  <li>
<a href="https://perell.com/essay/saving-the-liberal-arts/" target="_blank">Saving The Liberal Arts</a> by David Perrell</li>
</ul>

<p>And here’s a few articles about “playing the long game” in the liberal arts:</p>
<ul>
  <li><a href="https://www.insidehighered.com/news/2014/01/22/see-how-liberal-arts-grads-really-fare-report-examines-long-term-data" target="_blank">To see how liberal arts grads really fare, report examines long-term data</a></li>
  <li><a href="https://www.nytimes.com/2019/09/20/business/liberal-arts-stem-salaries.html" target="_blank">In the Salary Race, Engineers Sprint but English Majors Endure</a></li>
  <li><a href="https://www.fastcompany.com/90676271/the-worlds-most-creative-people-have-this-one-thing-in-common" target="_blank">The world’s most creative people have one thing in common</a></li>
</ul>

<h2 id="footnotes">Footnotes</h2>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>For the sake of this piece I am assuming that there are only two combinations of learning environments and markets: kind/winner take all, and wicked/auction market. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>
</body></html>

    </content>

    <side style="font-size: 0.9em">
      <h3 style="margin-bottom: 1em">Notes mentioning this note</h3>
      
      <div style="display: grid; grid-gap: 1em; grid-template-columns: repeat(1fr);">
      
        <div class="backlink-box">
        <a class="internal-link" href="/garden/syntopical-reading-in-roam">Syntopical Reading in Roam</a><br>
        <div style="font-size: 0.9em">Overview In the sixth iteration of Roam Book Club (RBC), I led a group of Roam Book Club members through...</div>
        </div>
      
      </div>
      
    </side>
  </div>
</article>

<hr>

<p>Here are all the notes in this garden, along with their links, visualized as a graph.</p>

<style>
  .links line {
    stroke: #ccc;
    opacity: 0.5;
  }

  .nodes circle {
    cursor: pointer;
    fill: #8b88e6;
    transition: all 0.15s ease-out;
  }

  .text text {
    cursor: pointer;
    fill: #333;
    text-shadow: -1px -1px 0 #fafafabb, 1px -1px 0 #fafafabb, -1px 1px 0 #fafafabb, 1px 1px 0 #fafafabb;
  }

  .nodes [active],
  .text [active] {
    cursor: pointer;
    fill: black;
  }

  .inactive {
    opacity: 0.1;
    transition: all 0.15s ease-out;
  }

  #graph-wrapper {
    background: #fcfcfc;
    border-radius: 4px;
    height: auto;
  }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"
  integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg=="
  crossorigin="anonymous"></script>

<div id="graph-wrapper">
  <script>
    const MINIMAL_NODE_SIZE = 8;
    const MAX_NODE_SIZE = 12;
    const ACTIVE_RADIUS_FACTOR = 1.5;
    const STROKE = 1;
    const FONT_SIZE = 16;
    const TICKS = 200;
    const FONT_BASELINE = 40;
    const MAX_LABEL_LENGTH = 50;

    const graphData = {"edges":[{"source":"3382923595264944459053140","target":"35785895735030"},{"source":"83980740473741404","target":"75519512887172167793552"},{"source":"4264560724020553976","target":"75519512887172167793552"},{"source":"83980740473741404","target":"81626248081932234102743"},{"source":"83980740473741404","target":"48598160581454072"},{"source":"4264560724020553976","target":"48598160581454072"},{"source":"75519512887172167793552","target":"83980740473741404"},{"source":"81626248081932234102743","target":"83980740473741404"},{"source":"48598160581454072","target":"83980740473741404"},{"source":"3738869998546123535","target":"83980740473741404"},{"source":"4264560724020553976","target":"83980740473741404"},{"source":"48598160581454072","target":"3738869998546123535"},{"source":"83980740473741404","target":"3738869998546123535"},{"source":"4264560724020553976","target":"3738869998546123535"},{"source":"81626248081932234102743","target":"4264560724020553976"},{"source":"48598160581454072","target":"4264560724020553976"},{"source":"83980740473741404","target":"4264560724020553976"},{"source":"3738869998546123535","target":"4264560724020553976"},{"source":"48598160581454072","target":"4578679678735461989859"},{"source":"81626248081932234102743","target":"3642613618311825137"},{"source":"48598160581454072","target":"3642613618311825137"},{"source":"3738869998546123535","target":"3642613618311825137"},{"source":"4264560724020553976","target":"3642613618311825137"},{"source":"501759930629953253551110097459966654","target":"3642613618311825137"},{"source":"82936483322276","target":"3642613618311825137"},{"source":"317603515401676197658131903166","target":"3642613618311825137"},{"source":"83980740473741404","target":"82936483322276"},{"source":"501759930629953253551110097459966654","target":"531179896518317482849376723342341022"}],"nodes":[{"id":"342448303611429250356031845664485098319048","path":"/garden/broader-impacts-at-neurips-2020","label":"Broader Impacts at NeurIPS 2020"},{"id":"35785895735030","path":"/garden/contact-me","label":"Contact Me"},{"id":"3382923595264944459053140","path":"/garden/favorite-problems","label":"Favorite Problems"},{"id":"2290959712372494700","path":"/garden/helpful-books","label":"Helpful Books"},{"id":"15073327635460299847868890644548652117623","path":"/garden/inclusive-engineering-design","label":"Inclusive Engineering Design"},{"id":"75519512887172167793552","path":"/garden/capture-workflow","label":"Capture Workflow"},{"id":"81626248081932234102743","path":"/garden/daily-reflection","label":"Daily Reflection"},{"id":"48598160581454072","path":"/garden/daily-review","label":"Daily Review"},{"id":"83980740473741404","path":"/garden/my-workflows","label":"My Workflows"},{"id":"3738869998546123535","path":"/garden/semester-plan","label":"Semester Plan"},{"id":"4264560724020553976","path":"/garden/weekly-review","label":"Weekly Review"},{"id":"1540914265625259245170472890527046506037737803638984","path":"/garden/obsidian-vs-roam-for-running-book-clubs","label":"Obsidian vs. Roam For Running Book Clubs"},{"id":"4578679678735461989859","path":"/garden/quantified-self","label":"Quantified Self"},{"id":"3642613618311825137","path":"/garden/roam-research","label":"Roam Research"},{"id":"501759930629953253551110097459966654","path":"/garden/syntopical-reading-in-roam","label":"Syntopical Reading in Roam"},{"id":"233959746474886049326429588","path":"/garden/teaching-resources","label":"Teaching Resources"},{"id":"82936483322276","path":"/garden/tech-stack","label":"Tech Stack"},{"id":"531179896518317482849376723342341022","path":"/garden/unsolicited-career-advice","label":"Unsolicited Career Advice"},{"id":"317603515401676197658131903166","path":"/garden/using-custom-js-in-roam","label":"Using Custom JS in Roam"}]}
    let nodesData = graphData.nodes;
    let linksData = graphData.edges;

    const nodeSize = {};

    const updateNodeSize = () => {
      nodesData.forEach((el) => {
        let weight =
          3 *
          Math.sqrt(
            linksData.filter((l) => l.source === el.id || l.target === el.id)
              .length + 1
          );
        if (weight < MINIMAL_NODE_SIZE) {
          weight = MINIMAL_NODE_SIZE;
        } else if (weight > MAX_NODE_SIZE) {
          weight = MAX_NODE_SIZE;
        }
        nodeSize[el.id] = weight;
      });
    };

    const onClick = (d) => {
      window.location = d.path
    };

    const onMouseover = function (d) {
      const relatedNodesSet = new Set();
      linksData
        .filter((n) => n.target.id == d.id || n.source.id == d.id)
        .forEach((n) => {
          relatedNodesSet.add(n.target.id);
          relatedNodesSet.add(n.source.id);
        });

      node.attr("class", (node_d) => {
        if (node_d.id !== d.id && !relatedNodesSet.has(node_d.id)) {
          return "inactive";
        }
        return "";
      });

      link.attr("class", (link_d) => {
        if (link_d.source.id !== d.id && link_d.target.id !== d.id) {
          return "inactive";
        }
        return "";
      });

      link.attr("stroke-width", (link_d) => {
        if (link_d.source.id === d.id || link_d.target.id === d.id) {
          return STROKE * 4;
        }
        return STROKE;
      });
      text.attr("class", (text_d) => {
        if (text_d.id !== d.id && !relatedNodesSet.has(text_d.id)) {
          return "inactive";
        }
        return "";
      });
    };

    const onMouseout = function (d) {
      node.attr("class", "");
      link.attr("class", "");
      text.attr("class", "");
      link.attr("stroke-width", STROKE);
    };

    const sameNodes = (previous, next) => {
      if (next.length !== previous.length) {
        return false;
      }

      const map = new Map();
      for (const node of previous) {
        map.set(node.id, node.label);
      }

      for (const node of next) {
        const found = map.get(node.id);
        if (!found || found !== node.title) {
          return false;
        }
      }

      return true;
    };

    const sameEdges = (previous, next) => {
      if (next.length !== previous.length) {
        return false;
      }

      const set = new Set();
      for (const edge of previous) {
        set.add(`${edge.source.id}-${edge.target.id}`);
      }

      for (const edge of next) {
        if (!set.has(`${edge.source}-${edge.target}`)) {
          return false;
        }
      }

      return true;
    };

    const graphWrapper = document.getElementById('graph-wrapper')
    const element = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    element.setAttribute("width", graphWrapper.getBoundingClientRect().width);
    element.setAttribute("height", window.innerHeight * 0.8);
    graphWrapper.appendChild(element);

    const reportWindowSize = () => {
      element.setAttribute("width", window.innerWidth);
      element.setAttribute("height", window.innerHeight);
    };

    window.onresize = reportWindowSize;

    const svg = d3.select("svg");
    const width = Number(svg.attr("width"));
    const height = Number(svg.attr("height"));
    let zoomLevel = 1;

    const simulation = d3
      .forceSimulation(nodesData)
      .force("forceX", d3.forceX().x(width / 2))
      .force("forceY", d3.forceY().y(height / 2))
      .force("charge", d3.forceManyBody())
      .force(
        "link",
        d3
          .forceLink(linksData)
          .id((d) => d.id)
          .distance(70)
      )
      .force("center", d3.forceCenter(width / 2, height / 2))
      .force("collision", d3.forceCollide().radius(80))
      .stop();

    const g = svg.append("g");
    let link = g.append("g").attr("class", "links").selectAll(".link");
    let node = g.append("g").attr("class", "nodes").selectAll(".node");
    let text = g.append("g").attr("class", "text").selectAll(".text");

    const resize = () => {
      if (d3.event) {
        const scale = d3.event.transform;
        zoomLevel = scale.k;
        g.attr("transform", scale);
      }

      const zoomOrKeep = (value) => (zoomLevel >= 1 ? value / zoomLevel : value);

      const font = Math.max(Math.round(zoomOrKeep(FONT_SIZE)), 1);

      text.attr("font-size", (d) => font);
      text.attr("y", (d) => d.y - zoomOrKeep(FONT_BASELINE) + 8);
      link.attr("stroke-width", zoomOrKeep(STROKE));
      node.attr("r", (d) => {
        return zoomOrKeep(nodeSize[d.id]);
      });
      svg
        .selectAll("circle")
        .filter((_d, i, nodes) => d3.select(nodes[i]).attr("active"))
        .attr("r", (d) => zoomOrKeep(ACTIVE_RADIUS_FACTOR * nodeSize[d.id]));

      document.getElementById("zoom").innerHTML = zoomLevel.toFixed(2);
    };

    const ticked = () => {
      node.attr("cx", (d) => d.x).attr("cy", (d) => d.y);
      text
        .attr("x", (d) => d.x)
        .attr("y", (d) => d.y - (FONT_BASELINE - nodeSize[d.id]) / zoomLevel);
      link
        .attr("x1", (d) => d.source.x)
        .attr("y1", (d) => d.source.y)
        .attr("x2", (d) => d.target.x)
        .attr("y2", (d) => d.target.y);
    };

    const restart = () => {
      updateNodeSize();
      node = node.data(nodesData, (d) => d.id);
      node.exit().remove();
      node = node
        .enter()
        .append("circle")
        .attr("r", (d) => {
          return nodeSize[d.id];
        })
        .on("click", onClick)
        .on("mouseover", onMouseover)
        .on("mouseout", onMouseout)
        .merge(node);

      link = link.data(linksData, (d) => `${d.source.id}-${d.target.id}`);
      link.exit().remove();
      link = link.enter().append("line").attr("stroke-width", STROKE).merge(link);

      text = text.data(nodesData, (d) => d.label);
      text.exit().remove();
      text = text
        .enter()
        .append("text")
        .text((d) => shorten(d.label.replace(/_*/g, ""), MAX_LABEL_LENGTH))
        .attr("font-size", `${FONT_SIZE}px`)
        .attr("text-anchor", "middle")
        .attr("alignment-baseline", "central")
        .on("click", onClick)
        .on("mouseover", onMouseover)
        .on("mouseout", onMouseout)
        .merge(text);

      node.attr("active", (d) => isCurrentPath(d.path) ? true : null);
      text.attr("active", (d) => isCurrentPath(d.path) ? true : null);

      simulation.nodes(nodesData);
      simulation.force("link").links(linksData);
      simulation.alpha(1).restart();
      simulation.stop();

      for (let i = 0; i < TICKS; i++) {
        simulation.tick();
      }

      ticked();
    };

    const zoomHandler = d3.zoom().scaleExtent([0.2, 3]).on("zoom", resize);

    zoomHandler(svg);
    restart();

    function isCurrentPath(notePath) {
      return window.location.pathname.includes(notePath)
    }

    function shorten(str, maxLen, separator = ' ') {
      if (str.length <= maxLen) return str;
      return str.substr(0, str.lastIndexOf(separator, maxLen)) + '...';
    }
  </script>
</div>
</main>
      <footer>These notes are always evolving. If these interest you, please <a class="internal-link" href="/garden/contact-me">get in touch</a>. You can learn more about me on my <a class="internal-link" href="/">website</a>.
</footer>
    </div>

    <!-- That file is not particularly elegant. This will need a refactor at some point. -->
<style>
  content a.internal-link {
    border-color: #8b88e6;
    background-color: #efefff;
  }

  #tooltip-wrapper {
    background: white;
    padding: 1em;
    border: 1px solid #ddd;
    border-radius: 4px;
    overflow: hidden;
    position: absolute;
    width: 400px;
    height: 250px;
    font-size: 0.8em;
    box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    opacity: 0;
    transition: opacity 100ms;
  }

  #tooltip-wrapper:after {
		content: "";
		position: absolute;
		z-index: 1;
		bottom: 0;
		left: 0;
		pointer-events: none;
		background-image: linear-gradient(to bottom, rgba(255,255,255, 0), rgba(255,255,255, 1) 90%);
		width: 100%;
		height: 75px;
  }
</style>

<div style="opacity: 0; display: none;" id='tooltip-wrapper'>
  <div id='tooltip-content'>
  </div>
</div>

<iframe style="display: none; height: 0; width: 0;" id='link-preview-iframe' src="">
</iframe>

<script>
  var opacityTimeout;
  var contentTimeout;
  var transitionDurationMs = 100;

  var iframe = document.getElementById('link-preview-iframe')
  var tooltipWrapper = document.getElementById('tooltip-wrapper')
  var tooltipContent = document.getElementById('tooltip-content')

  function hideTooltip() {
    opacityTimeout = setTimeout(function() {
      tooltipWrapper.style.opacity = 0;
      contentTimeout = setTimeout(function() {
        tooltipContent.innerHTML = '';
        tooltipWrapper.style.display = 'none';
      }, transitionDurationMs + 1);
    }, transitionDurationMs)
  }

  function showTooltip(event) {
    var elem = event.target;
    var elem_props = elem.getClientRects()[elem.getClientRects().length - 1];
    var top = window.pageYOffset || document.documentElement.scrollTop

    if (event.target.host === window.location.host) {
      iframe.src = event.target.href
      iframe.onload = function() {
        tooltipContentHtml = ''
        tooltipContentHtml += '<div style="font-weight: bold;">' + iframe.contentWindow.document.querySelector('h1').innerHTML + '</div>'
        tooltipContentHtml += iframe.contentWindow.document.querySelector('content').innerHTML

        tooltipContent.innerHTML = tooltipContentHtml

        tooltipWrapper.style.display = 'block';
        setTimeout(function() {
          tooltipWrapper.style.opacity = 1;
        }, 1)
      }

      tooltipWrapper.style.left = elem_props.left - (tooltipWrapper.offsetWidth / 2) + (elem_props.width / 2) + "px";
      if ((window.innerHeight - elem_props.top) < (tooltipWrapper.offsetHeight)) {
          tooltipWrapper.style.top = elem_props.top + top - tooltipWrapper.offsetHeight - 10 + "px";
      } else if ((window.innerHeight - elem_props.top) > (tooltipWrapper.offsetHeight)) {
          tooltipWrapper.style.top = elem_props.top + top + 35 + "px";
      }

      if ((elem_props.left + (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
          tooltipWrapper.style.left = "10px";
      } else if ((document.body.clientWidth - elem_props.left - (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
          tooltipWrapper.style.left = document.body.clientWidth - tooltipWrapper.offsetWidth - 20 + "px";
      }
    }
  }

  function setupListeners(linkElement) {
    linkElement.addEventListener('mouseleave', function(_event) {
      hideTooltip();
    });

    tooltipWrapper.addEventListener('mouseleave', function(_event) {
      hideTooltip();
    });

    linkElement.addEventListener('mouseenter', function(event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
      showTooltip(event);
    });

    tooltipWrapper.addEventListener('mouseenter', function(event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
    });
  }

  document.querySelectorAll('content a').forEach(setupListeners);
</script>

  </body>
</html>
